{"version":3,"sources":["context/UserContext.js","components/SignUpFormDialog.js","components/SignInFormDialog.js","components/LogoutButton.js","components/NavAppBar.js","components/ArticleCard.js","components/ArticleCardSkeleton.js","components/NewArticlePostUrlInput.js","components/MainGrid.js","components/App.js","index.js"],"names":["UserContext","React","createContext","initialState","UserProvider","props","_useState","useState","_useState2","Object","slicedToArray","state","setState","react_default","a","createElement","Provider","value","children","SignUpFormDialog","isSubmitting","setIsSubmitting","_useState3","_useState4","error","setError","_useState5","_useState6","open","setOpen","_useState7","_useState8","firstName","setFirstName","_useState9","_useState10","username","setUsername","_useState11","_useState12","lastName","setLastName","_useState13","_useState14","email","setEmail","_useState15","_useState16","password","setPassword","_useContext","useContext","_useContext2","setUserContext","Chip","label","variant","sx","borderColor","color","onClick","Dialog","onClose","fullWidth","onSubmit","e","preventDefault","signUpUrl","genericErrorMessage","process","REACT_APP_RUNNING_IN_DIGITAL_OCEAN","fetch","method","credentials","headers","Content-Type","body","JSON","stringify","nameDisplayed","then","_ref","asyncToGenerator","regenerator_default","mark","_callee","response","data","_data","wrap","_context","prev","next","ok","status","json","sent","message","oldValues","objectSpread","token","openSuccessAlertHandler","concat","stop","_x","apply","this","arguments","catch","err","DialogTitle","DialogContent","Box","Alert_Alert","severity","TextField","id","type","margin","onChange","target","DialogActions","Button","disabled","SignInFormDialog","openDialog","setOpenDialog","loginUrl","LogoutButton","logoutUrl","userContext","MenuItem","key","Authorization","details","undefined","window","localStorage","setItem","Date","now","openInfoAlertHandler","IconButton","size","aria-label","Logout_default","Typography","textAlign","Alert","forwardRef","ref","assign","elevation","NavAppBar","refreshTokenUrl","userDetailsUrl","anchorElNav","setAnchorElNav","anchorElUser","setAnchorElUser","openInfoAlert","setOpenInfoAlert","infoMessage","setInfoMessage","openSuccessAlert","setOpenSuccessAlert","successMessage","setSuccessMessage","verifyUser","useCallback","newToken","setTimeout","fetchUserDetails","_ref2","_callee2","_context2","console","log","_x2","useEffect","location","reload","handleCloseNavMenu","handleCloseUserMenu","allArticlesHandler","myArticlesHandler","myVotesHandler","handleCloseAlert","event","reason","Fragment","AppBar","position","Container","maxWidth","Toolbar","disableGutters","Adb_default","display","xs","md","mr","noWrap","component","href","fontFamily","fontWeight","letterSpacing","textDecoration","flexGrow","my","aria-controls","aria-haspopup","currentTarget","Menu_default","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Boolean","Stack","direction","justifyContent","alignItems","spacing","components_SignUpFormDialog","components_SignInFormDialog","Tooltip","title","p","Badge","badgeContent","AccountCircle_default","fontSize","mt","Notifications_default","components_LogoutButton","Snackbar","autoHideDuration","NavAppBar_Alert","width","ArticleCard","fetchVoteUrl","articleInfo","_id","Card","textTransform","padding","author","align","postTime","Link_Link","url","underline","rel","CardMedia","alt","height","image","linkPreview","img","CardContent","lineHeight","marginBottom","gutterBottom","description","domain","Divider","marginY","icon","HowToVote_default","numUpVotes","ArticleCardSkeleton","react","Skeleton","animation","style","NewArticlePostUrlInput","articleUrl","setArticleUrl","articlePosted","setArticlePosted","openErrorAlert","setOpenErrorAlert","_pasteClipboardContentInInput","clipboardContent","navigator","clipboard","readText","Paper","marginTop","newArticlePostUrl","Link_default","InputBase","ml","flex","placeholder","inputProps","ContentPaste_default","endIcon","Send_default","components_ArticleCardSkeleton","keys","length","components_ArticleCard","NewArticlePostUrlInput_Alert","Item","styled","theme","backgroundColor","palette","mode","typography","body2","text","secondary","fetchCalled","useEffectCalled","observerTrigger","MainGrid","setIsLoaded","loading","setLoading","articlesArray","setArticlesArray","lastPostTime","setLastPostTime","setAllArticlesLoaded","lastArticleCard","setLastArticleCard","_useState17","_useState18","shouldFetch","setShouldFetch","observer","useRef","IntersectionObserver","entries","isIntersecting","fetchArticlesArray","lastPostTimeInput","fetchArticlesArrayUrl","pageDisplayed","newLastPostTime","toConsumableArray","renderArticlePost","currentElement","currentObserver","current","observe","unobserve","Grid","container","map","article","i","item","sm","lg","xl","CircularProgress","App","setPageDisplayed","components_NavAppBar","components_NewArticlePostUrlInput","components_MainGrid","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.f8f9c78d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nconst UserContext = React.createContext([{}, () => { }]);\n\nlet initialState = {};\n\nfunction UserProvider(props) {\n    const [state, setState] = useState(initialState);\n\n    return (\n        <UserContext.Provider value={[state, setState]}>\n            {props.children}\n        </UserContext.Provider>\n    )\n}\n\nexport { UserContext, UserProvider };","import React, { useContext, useState } from 'react';\n\nimport Alert from '@mui/material/Alert';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Chip from '@mui/material/Chip';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport TextField from '@mui/material/TextField';\n\nimport { UserContext } from '../context/UserContext';\n\nfunction SignUpFormDialog(props) {\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [open, setOpen] = useState(false);\n    const [firstName, setFirstName] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [userContext, setUserContext] = useContext(UserContext);\n\n    function formSubmitHandler(e) {\n        e.preventDefault();\n        setIsSubmitting(true);\n        setError(\"\");\n\n        const genericErrorMessage = \"Something went wrong, please try again.\";\n\n        // const signUpUrl = process.env.REACT_APP_SERVER_URL + \"signup\";\n\n        let signUpUrl;\n        if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n            signUpUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + \"signup\";\n        } else {\n            signUpUrl = process.env.REACT_APP_SERVER_URL_LOCAL + \"signup\";\n        }\n\n        fetch(\n            signUpUrl,\n            {\n                method: 'POST',\n                credentials: \"include\",\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    firstName: firstName,\n                    lastName: lastName,\n                    nameDisplayed: username,\n                    username: email,\n                    password: password\n                })\n            }\n        )\n            .then(async response => {\n                setIsSubmitting(false);\n                if (!response.ok) {\n                    if (response.status === 400) {\n                        setError(\"Please fill in all fields correctly.\");\n                    } else if (response.status === 401) {\n                        setError(\"Invalid email and password combination.\");\n                    } else if (response.status === 500) {\n                        const data = await response.json();\n                        if (data.message) {\n                            setError(data.message);\n                        } else {\n                            setError(genericErrorMessage);\n                        }\n                    } else {\n                        setError(genericErrorMessage);\n                    }\n                } else {\n                    const data = await response.json();\n                    setUserContext(oldValues => {\n                        return { ...oldValues, token: data.token };\n                    })\n                    props.openSuccessAlertHandler(`Welcome ${data.username}!`);\n                }\n            })\n            .catch(err => {\n                setIsSubmitting(false);\n                setError(genericErrorMessage);\n            })\n    }\n\n    return (\n        <div>\n            <Chip\n                label=\"Sign Up\"\n                variant=\"outlined\"\n                sx={{\n                    borderColor: \"white\",\n                    color: \"white\"\n                }}\n                onClick={() => setOpen(true)}\n            />\n            <Dialog open={open} onClose={() => setOpen(false)} fullWidth>\n                <form onSubmit={formSubmitHandler}>\n                    <DialogTitle>Sign Up</DialogTitle>\n                    <DialogContent>\n                        <Box>\n                            {error && <Alert severity=\"error\">{error}</Alert>}\n                            <div>\n                                <TextField\n                                    id=\"firstName\"\n                                    type=\"text\"\n                                    label=\"First Name\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={firstName}\n                                    onChange={e => setFirstName(e.target.value)}\n                                    fullWidth\n                                />\n                            </div>\n                            <div>\n                                <TextField\n                                    id=\"lastName\"\n                                    type=\"text\"\n                                    label=\"Last Name\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={lastName}\n                                    onChange={e => setLastName(e.target.value)}\n                                    fullWidth\n                                />\n                            </div>\n                            <div>\n                                <TextField\n                                    id=\"username\"\n                                    type=\"text\"\n                                    label=\"Username\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={username}\n                                    onChange={e => setUsername(e.target.value)}\n                                    fullWidth\n                                />\n                            </div>\n                            <div>\n                                <TextField\n                                    id=\"email\"\n                                    type=\"email\"\n                                    label=\"Email\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={email}\n                                    onChange={e => setEmail(e.target.value)}\n                                    fullWidth\n                                />\n                            </div>\n                            <div>\n                                <TextField\n                                    id=\"password\"\n                                    type=\"password\"\n                                    label=\"Password\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={password}\n                                    onChange={e => setPassword(e.target.value)}\n                                    fullWidth\n                                />\n                            </div>\n                        </Box>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={() => setOpen(false)}>Cancel</Button>\n                        <Button\n                            type=\"submit\"\n                            disabled={isSubmitting}\n                        >\n                            {isSubmitting ? \"Signing Up...\" : \"Sign Up\"}\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default SignUpFormDialog;","import React, { useState, useContext } from 'react';\n\nimport Alert from '@mui/material/Alert';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Chip from '@mui/material/Chip';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport TextField from '@mui/material/TextField';\n\nimport { UserContext } from '../context/UserContext';\n\nfunction SignInFormDialog(props) {\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [error, setError] = useState(\"\")\n    const [openDialog, setOpenDialog] = useState(false);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [userContext, setUserContext] = useContext(UserContext);\n\n    function formSubmitHandler(e) {\n        e.preventDefault();\n        setIsSubmitting(true);\n        setError(\"\");\n\n        const genericErrorMessage = \"Something went wrong, please try again.\"\n\n        // const loginUrl = process.env.REACT_APP_SERVER_URL + \"login\";\n\n        let loginUrl;\n        if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n            loginUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + \"login\";\n        } else {\n            loginUrl = process.env.REACT_APP_SERVER_URL_LOCAL + \"login\";\n        }\n\n        fetch(\n            loginUrl,\n            {\n                method: 'POST',\n                credentials: \"include\",\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    username: email,\n                    password: password\n                })\n            }\n        )\n            .then(async response => {\n                setIsSubmitting(false);\n                if (!response.ok) {\n                    if (response.status === 400) {\n                        setError(\"Please fill in all fields correcly.\");\n                    } else if (response.status === 401) {\n                        setError(\"Invalid email and password combination.\");\n                    } else {\n                        setError(genericErrorMessage);\n                    }\n                } else {\n                    const data = await response.json();\n                    setUserContext(oldValues => {\n                        return { ...oldValues, token: data.token };\n                    })\n                    props.openSuccessAlertHandler(`Welcome back ${data.username}!`);\n                }\n            })\n            .catch(err => {\n                setIsSubmitting(false);\n                setError(genericErrorMessage);\n            })\n    }\n\n    return (\n        <div>\n            <Chip\n                label=\"Sign In\"\n                variant=\"outlined\"\n                sx={{\n                    borderColor: \"white\",\n                    color: \"white\"\n                }}\n                onClick={() => setOpenDialog(true)}\n            />\n            <Dialog\n                open={openDialog}\n                onClose={() => setOpenDialog(false)}\n                fullWidth>\n                <form onSubmit={formSubmitHandler}>\n                    <DialogTitle>Sign In</DialogTitle>\n                    <DialogContent>\n                        <Box>\n                            {error && <Alert severity=\"error\">{error}</Alert>}\n                            <div>\n                                <TextField\n                                    id=\"username\"\n                                    type=\"text\"\n                                    label=\"Email\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={email}\n                                    onChange={e => setEmail(e.target.value)}\n                                    fullWidth />\n                            </div>\n                            <div>\n                                <TextField\n                                    id=\"password\"\n                                    type=\"password\"\n                                    label=\"Password\"\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    value={password}\n                                    onChange={e => setPassword(e.target.value)}\n                                    fullWidth />\n                            </div>\n                        </Box>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\n                        <Button\n                            type=\"submit\"\n                            disabled={isSubmitting}\n                        >\n                            {isSubmitting ? \"Signing In...\" : \"Sign In\"}\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default SignInFormDialog;","import React, { useContext, useState } from 'react';\n\nimport IconButton from '@mui/material/IconButton';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport MenuItem from '@mui/material/MenuItem';\nimport Typography from '@mui/material/Typography';\n\nimport { UserContext } from '../context/UserContext';\n\n\n\nfunction LogoutButton(props) {\n    const [userContext, setUserContext] = useContext(UserContext);\n\n    // const logoutUrl = process.env.REACT_APP_SERVER_URL + \"logout\";\n\n    let logoutUrl;\n    if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n        logoutUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + \"logout\";\n    } else {\n        logoutUrl = process.env.REACT_APP_SERVER_URL_LOCAL + \"logout\";\n    }\n\n    function logoutHandler() {\n        fetch(\n            logoutUrl,\n            {\n                method: \"GET\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${userContext.token}`\n                }\n            }\n        )\n            .then(async response => {\n                const username = userContext.details.nameDisplayed;\n                setUserContext(oldValues => {\n                    return { ...oldValues, details: undefined, token: null };\n                })\n                window.localStorage.setItem(\"logout\", Date.now());\n                props.openInfoAlertHandler(`See you soon ${username}!`);\n            })\n    }\n\n\n    return (\n        <div>\n            <MenuItem key=\"center\" onClick={logoutHandler}>\n                <IconButton\n                    size=\"large\"\n                    aria-label=\"show 17 new notifications\"\n                    color=\"inherit\"\n                >\n                    <LogoutIcon />\n                </IconButton>\n                <Typography textAlign=\"center\">Logout</Typography>\n            </MenuItem>\n        </div>\n\n    )\n}\n\nexport default LogoutButton;","import React, { useState, useContext, useEffect, useCallback } from 'react';\n\nimport AccountCircle from '@mui/icons-material/AccountCircle';\nimport AdbIcon from '@mui/icons-material/Adb';\nimport AppBar from '@mui/material/AppBar';\nimport Badge from '@mui/material/Badge';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Container from '@mui/material/Container';\nimport IconButton from '@mui/material/IconButton';\nimport Menu from '@mui/material/Menu';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport MuiAlert from '@mui/material/Alert';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport Snackbar from '@mui/material/Snackbar';\nimport Stack from '@mui/material/Stack';\nimport Toolbar from '@mui/material/Toolbar';\nimport Tooltip from '@mui/material/Tooltip';\nimport Typography from '@mui/material/Typography';\n\nimport SignUpFormDialog from './SignUpFormDialog';\nimport SignInFormDialog from './SignInFormDialog';\nimport LogoutButton from './LogoutButton';\nimport { UserContext } from '../context/UserContext';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nfunction NavAppBar(props) {\n  const [userContext, setUserContext] = useContext(UserContext);\n  const [anchorElNav, setAnchorElNav] = useState(null);\n  const [anchorElUser, setAnchorElUser] = useState(null);\n  const [openInfoAlert, setOpenInfoAlert] = useState(false);\n  const [infoMessage, setInfoMessage] = useState(\"\")\n  const [openSuccessAlert, setOpenSuccessAlert] = useState(false);\n  const [successMessage, setSuccessMessage] = useState(\"\")\n\n  let refreshTokenUrl;\n  let userDetailsUrl\n  if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n    refreshTokenUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + \"refreshToken\";\n    userDetailsUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + \"me\"\n  } else {\n    refreshTokenUrl = process.env.REACT_APP_SERVER_URL_LOCAL + \"refreshToken\";\n    userDetailsUrl = process.env.REACT_APP_SERVER_URL_LOCAL + \"me\"\n  }\n\n  // const refreshTokenUrl = props.serverUrl + \"refreshToken\";\n  // const userDetailsUrl = props.serverUrl + \"me\"\n\n  const verifyUser = useCallback(() => {\n    fetch(\n      refreshTokenUrl,\n      {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }\n    )\n      .then(async response => {\n        if (response.ok) {\n          const data = await response.json();\n          setUserContext(oldValues => {\n            return { ...oldValues, token: data.newToken };\n          })\n        } else {\n          setUserContext(oldValues => {\n            return { ...oldValues, token: null }\n          })\n        }\n        setTimeout(verifyUser, 1000 * 60 * 5)\n      })\n  },\n    [setUserContext]\n  )\n\n  const fetchUserDetails = useCallback(() => {\n    fetch(\n      userDetailsUrl,\n      {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${userContext.token}`\n        }\n      }\n    )\n      .then(async response => {\n        if (response.ok) {\n          const data = await response.json();\n          setUserContext(oldValues => {\n            return { ...oldValues, details: data };\n          })\n        } else {\n          if (response.status === 401) {\n            // window.location.reload();\n            console.log(\"no user details available.\")\n          } else {\n            setUserContext(oldValues => {\n              return { ...oldValues, details: null }\n            })\n          }\n        }\n      })\n  },\n    [setUserContext, userContext.token]\n  )\n\n  useEffect(() => {\n    verifyUser();\n  },\n    [verifyUser]\n  )\n\n  useEffect(() => {\n    if (!userContext.details) {\n      fetchUserDetails();\n    }\n  },\n    [fetchUserDetails, userContext.details]\n  )\n\n  const syncLogout = useCallback(e => {\n    if (e.key === \"logout\") {\n      window.location.reload();\n    }\n  },\n    []\n  )\n\n  const handleOpenNavMenu = (event) => {\n    setAnchorElNav(event.currentTarget);\n  };\n  const handleOpenUserMenu = (event) => {\n    setAnchorElUser(event.currentTarget);\n  };\n\n  const handleCloseNavMenu = () => {\n    setAnchorElNav(null);\n  };\n\n  const handleCloseUserMenu = () => {\n    setAnchorElUser(null);\n  };\n\n  function allArticlesHandler() {\n    handleCloseNavMenu();\n    props.allArticlesHandler();\n  }\n\n  function myArticlesHandler() {\n    handleCloseNavMenu();\n    props.myArticlesHandler();\n  }\n\n  function myVotesHandler() {\n    handleCloseNavMenu();\n    props.myVotesHandler();\n  }\n\n  function openInfoAlertHandler(message) {\n    setInfoMessage(message);\n    setOpenInfoAlert(true);\n  }\n\n  function openSuccessAlertHandler(message) {\n    setSuccessMessage(message);\n    setOpenSuccessAlert(true);\n  }\n\n  const handleCloseAlert = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenInfoAlert(false);\n    setOpenSuccessAlert(false);\n  };\n\n  function MenuNavXs() {\n    return (\n      <>\n        <MenuItem key=\"allArticles\" onClick={allArticlesHandler}>\n          <Typography textAlign=\"center\">All Articles</Typography>\n        </MenuItem>\n        <MenuItem key=\"myArticles\" onClick={myArticlesHandler}>\n          <Typography textAlign=\"center\">My Articles</Typography>\n        </MenuItem>\n        <MenuItem key=\"myVotes\" onClick={myVotesHandler}>\n          <Typography textAlign=\"center\">My Votes</Typography>\n        </MenuItem>\n      </>\n    )\n  }\n\n  function MenuNavMd() {\n    return (\n      <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\n        <Button\n          key=\"allArticles\"\n          onClick={allArticlesHandler}\n          sx={{ my: 2, color: 'white', display: 'block' }}\n        >\n          All Articles\n        </Button>\n        <Button\n          key=\"myArticles\"\n          onClick={myArticlesHandler}\n          sx={{ my: 2, color: 'white', display: 'block' }}\n        >\n          My Articles\n        </Button>\n        <Button\n          key=\"myVotes\"\n          onClick={myVotesHandler}\n          sx={{ my: 2, color: 'white', display: 'block' }}\n        >\n          My Votes\n        </Button>\n      </Box>\n    )\n  }\n\n  function VtnLogoMd() {\n    return (\n      <>\n        <AdbIcon sx={{ display: { xs: 'none', md: 'flex' }, mr: 1 }} />\n        <Typography\n          variant=\"h6\"\n          noWrap\n          component=\"a\"\n          href=\"/\"\n          sx={{\n            mr: 2,\n            display: { xs: 'none', md: 'flex' },\n            fontFamily: 'monospace',\n            fontWeight: 700,\n            letterSpacing: '.3rem',\n            color: 'inherit',\n            textDecoration: 'none',\n          }}\n        >\n          VOTE THE NEWS\n        </Typography>\n      </>\n    )\n  }\n\n  function VtnLogoXs() {\n    return (\n      <>\n        <AdbIcon sx={{ display: { xs: 'flex', md: 'none' }, mr: 1 }} />\n        <Typography\n          variant=\"h5\"\n          noWrap\n          component=\"a\"\n          href=\"\"\n          sx={{\n            mr: 2,\n            display: { xs: 'flex', md: 'none' },\n            flexGrow: 1,\n            fontFamily: 'monospace',\n            fontWeight: 700,\n            letterSpacing: '.3rem',\n            color: 'inherit',\n            textDecoration: 'none',\n          }}\n        >\n          VTN\n        </Typography>\n      </>\n    )\n  }\n\n  function SignInUpButtons() {\n    return (\n      <Stack\n        direction=\"row\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        spacing={1}\n      >\n        <SignUpFormDialog\n          openSuccessAlertHandler={openSuccessAlertHandler}\n        />\n        <SignInFormDialog\n          openSuccessAlertHandler={openSuccessAlertHandler}\n        />\n      </Stack>\n    )\n  }\n\n  function MenuUser() {\n    return (\n      <>\n        <MenuItem key=\"notifications\" onClick={handleCloseUserMenu}>\n          <IconButton\n            size=\"large\"\n            aria-label=\"show 17 new notifications\"\n            color=\"inherit\"\n          >\n            <Badge badgeContent={17} color=\"error\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <Typography textAlign=\"center\">Notifications</Typography>\n        </MenuItem>\n        <MenuItem key=\"profile\" onClick={handleCloseUserMenu}>\n          <IconButton\n            size=\"large\"\n            aria-label=\"show 17 new notifications\"\n            color=\"inherit\"\n          >\n            <AccountCircle />\n          </IconButton>\n          <Typography textAlign=\"center\">Profile</Typography>\n        </MenuItem>\n        <LogoutButton\n          openInfoAlertHandler={openInfoAlertHandler}\n        />\n      </>\n    )\n  }\n\n  function Snackbars() {\n    return (\n      <>\n        <Snackbar open={openInfoAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n          <Alert onClose={handleCloseAlert} severity=\"info\" sx={{ width: '100%' }}>\n            {infoMessage}\n          </Alert>\n        </Snackbar>\n        <Snackbar open={openSuccessAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n          <Alert onClose={handleCloseAlert} severity=\"success\" sx={{ width: '100%' }}>\n            {successMessage}\n          </Alert>\n        </Snackbar>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <AppBar position=\"fixed\">\n        <Container maxWidth=\"xl\">\n          <Toolbar disableGutters>\n\n            <VtnLogoMd />\n            <MenuNavMd />\n\n            <Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>\n              <IconButton\n                size=\"large\"\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleOpenNavMenu}\n                color=\"inherit\"\n              >\n                <MenuIcon />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorElNav}\n                anchorOrigin={{\n                  vertical: 'bottom',\n                  horizontal: 'left',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'left',\n                }}\n                open={Boolean(anchorElNav)}\n                onClose={handleCloseNavMenu}\n                sx={{\n                  display: { xs: 'block', md: 'none' },\n                }}\n              >\n                <MenuNavXs />\n              </Menu>\n            </Box>\n\n            <VtnLogoXs />\n\n            {(userContext.token === null || !userContext.token) &&\n              <SignInUpButtons />\n            }\n\n            {userContext.token &&\n              <Box sx={{ flexGrow: 0 }}>\n                <Tooltip title=\"Open settings\">\n                  <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }} color=\"inherit\">\n                    <Badge badgeContent={17} color=\"error\">\n                      <AccountCircle fontSize='large' />\n                    </Badge>\n                  </IconButton>\n                </Tooltip>\n                <Menu\n                  sx={{ mt: '45px' }}\n                  id=\"menu-appbar\"\n                  anchorEl={anchorElUser}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                  }}\n                  open={Boolean(anchorElUser)}\n                  onClose={handleCloseUserMenu}\n                >\n                  <MenuUser />\n                </Menu>\n              </Box>\n            }\n\n          </Toolbar>\n        </Container>\n      </AppBar>\n\n      <Snackbars />\n    </>\n  );\n}\n\nexport default NavAppBar;\n\n\n","import React, { useContext } from 'react';\n\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Typography from '@mui/material/Typography';\nimport Chip from '@mui/material/Chip';\nimport Divider from '@mui/material/Divider';\nimport HowToVoteIcon from '@mui/icons-material/HowToVote';\nimport Stack from '@mui/material/Stack';\nimport Link from '@mui/material/Link';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\n\nimport { UserContext } from \"../context/UserContext\";\n\n\nfunction ArticleCard(props) {\n  const [userContext, setUserContext] = useContext(UserContext);\n\n  // const fetchVoteUrl = process.env.REACT_APP_SERVER_URL + `${props.articleInfo._id}/vote`\n\n  let fetchVoteUrl;\n  if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n    fetchVoteUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + `${props.articleInfo._id}/vote`;\n  } else {\n    fetchVoteUrl = process.env.REACT_APP_SERVER_URL_LOCAL + `${props.articleInfo._id}/vote`;\n  }\n\n  function fetchUpVote() {\n    fetch(\n      fetchVoteUrl,\n      {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${userContext.token}`\n        }\n      }\n    )\n      .then(response => {\n        if (response.ok) {\n          console.log(\"upvoted\");\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  return (\n    <Card\n    >\n      <Box\n        display=\"flex\"\n        justifyContent=\"flex-start\"\n      >\n        <Button\n          size=\"small\"\n          sx={{\n            textTransform: \"none\",\n            padding: \"0\",\n            justifyContent: \"flex-start\",\n            color: \"rgba(0, 0, 0, 0.6)\"\n          }}\n        >\n          {props.articleInfo.author.nameDisplayed}\n        </Button>\n      </Box>\n      <Typography\n        color=\"text.secondary\"\n        variant=\"body2\"\n        align=\"left\"\n        margin={0}\n      >\n        {props.articleInfo.postTime}\n      </Typography>\n      <Link\n        href={props.articleInfo.url}\n        underline=\"none\"\n        target=\"_blank\"\n        rel=\"noopener\"\n      >\n        <CardMedia\n          component=\"img\"\n          alt=\"green iguana\"\n          height=\"140\"\n          image={props.articleInfo.linkPreview.img}\n        />\n        <CardContent>\n          <Typography\n            variant=\"h6\"\n            component=\"div\"\n            color=\"text.primary\"\n            align=\"left\"\n            lineHeight={1.4}\n            marginBottom={1}\n          >\n            {props.articleInfo.linkPreview.title}\n          </Typography>\n          <Typography\n            gutterBottom\n            variant=\"body2\"\n            color=\"text.secondary\"\n            align=\"left\"\n            lineHeight={1.2}\n          >\n            {props.articleInfo.linkPreview.description}\n          </Typography>\n          <Typography\n            variant=\"overline\"\n            color=\"text.secondary\"\n            align=\"right\"\n            lineHeight={1}\n          >\n            {props.articleInfo.linkPreview.domain}\n          </Typography>\n        </CardContent>\n      </Link>\n      <Divider variant=\"middle\" />\n      <Stack\n        direction=\"row\"\n        justifyContent=\"space-around\"\n        alignItems=\"center\"\n        spacing={0}\n        marginY={0.5}\n      >\n        <Chip\n          variant=\"outlined\"\n          icon={<HowToVoteIcon />}\n          label=\"+Vote\"\n          onClick={fetchUpVote}\n        />\n        <Typography\n          color=\"text.secondary\"\n          variant=\"body2\"\n        >\n          {props.articleInfo.numUpVotes}\n          {(props.articleInfo.numUpVotes === 0 ||\n            props.articleInfo.numUpVotes === 1) ?\n            <> vote</>\n            : <> votes</>\n          }\n        </Typography>\n      </Stack>\n    </Card >\n  );\n}\n\nexport default ArticleCard;","import * as React from 'react';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport Skeleton from '@mui/material/Skeleton';\n\n\n\nfunction handleClick() {\n  console.log('upvote to come');\n}\n\nfunction ArticleCardSkeleton() {\n  return (\n    <Card\n    >\n      <Box\n        display=\"flex\"\n        justifyContent=\"flex-start\"\n      >\n        <Skeleton\n          animation=\"wave\"\n          height={20}\n          width=\"20%\"\n          style={{ marginBottom: 6 }}\n        />\n      </Box>\n      <Skeleton\n        animation=\"wave\"\n        height={20}\n        width=\"40%\"\n        style={{ marginBottom: 6 }}\n      />\n      <Skeleton sx={{ height: 150 }} animation=\"wave\" variant=\"rectangular\" />\n      <CardContent>\n        <Skeleton\n          animation=\"wave\"\n          height={30}\n          width=\"100%\"\n          style={{ marginBottom: 6 }}\n        />\n        <Skeleton\n          animation=\"wave\"\n          height={30}\n          width=\"40%\"\n          style={{ marginBottom: 6 }}\n        />\n        <Skeleton\n          animation=\"wave\"\n          height={20}\n          width=\"100%\"\n          style={{ marginBottom: 6 }}\n        />\n        <Skeleton\n          animation=\"wave\"\n          height={20}\n          width=\"95%\"\n          style={{ marginBottom: 6 }}\n        />\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n        >\n          <Skeleton\n            animation=\"wave\"\n            height={20}\n            width=\"25%\"\n            style={{ marginBottom: 6 }}\n          />\n        </Box>\n      </CardContent>\n      <Divider variant=\"middle\" />\n      <Stack\n        direction=\"row\"\n        justifyContent=\"space-around\"\n        alignItems=\"center\"\n        spacing={0}\n        marginY={0.5}\n      >\n        <Skeleton\n          animation=\"wave\"\n          height={40}\n          width=\"15%\"\n          style={{ marginBottom: 6 }}\n        />\n        <Skeleton\n          animation=\"wave\"\n          height={20}\n          width=\"10%\"\n          style={{ marginBottom: 6 }}\n        />\n      </Stack>\n    </Card >\n  );\n}\n\nexport default ArticleCardSkeleton;","import React, { useContext, useState } from 'react';\n\nimport Button from '@mui/material/Button';\nimport ContentPasteIcon from '@mui/icons-material/ContentPaste';\nimport IconButton from '@mui/material/IconButton';\nimport InputBase from '@mui/material/InputBase';\nimport LinkIcon from '@mui/icons-material/Link';\nimport MuiAlert from '@mui/material/Alert';\nimport Paper from '@mui/material/Paper';\nimport SendIcon from '@mui/icons-material/Send';\nimport Snackbar from '@mui/material/Snackbar';\n\nimport ArticleCard from './ArticleCard';\nimport ArticleCardSkeleton from './ArticleCardSkeleton';\nimport { UserContext } from '../context/UserContext';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nfunction NewArticlePostUrlInput() {\n    const [userContext, setUserContext] = useContext(UserContext);\n    const [articleUrl, setArticleUrl] = useState(\"\");\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [articlePosted, setArticlePosted] = useState({});\n    const [openErrorAlert, setOpenErrorAlert] = useState(false);\n    const [openSuccessAlert, setOpenSuccessAlert] = useState(false);\n\n    function formSubmitHandler(e) {\n        e.preventDefault();\n        setIsSubmitting(true);\n        setError(\"\");\n\n        const genericErrorMessage = \"Something went wrong, please try again.\"\n\n        // const newArticlePostUrl = process.env.REACT_APP_SERVER_URL + \"newarticlepost\";\n\n        let newArticlePostUrl;\n        if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n            newArticlePostUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + \"newarticlepost\";\n        } else {\n            newArticlePostUrl = process.env.REACT_APP_SERVER_URL_LOCAL + \"newarticlepost\";\n        }\n\n        fetch(\n            newArticlePostUrl,\n            {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${userContext.token}`\n                },\n                body: JSON.stringify({ url: articleUrl })\n            }\n        )\n            .then(async response => {\n                setIsSubmitting(false);\n                const data = await response.json();\n                if (response.ok) {\n                    setArticlePosted(data);\n                    setOpenSuccessAlert(true);\n                } else {\n                    if (response.status === 401) {\n                        console.log(`Setting error to: ${data.message}`);\n                        setError(data.message)\n                        setOpenErrorAlert(true);\n                    } else {\n                        setError(genericErrorMessage)\n                        setOpenErrorAlert(true);\n                    }\n                }\n            })\n            .catch(err => {\n                setIsSubmitting(false);\n                setError(genericErrorMessage);\n                setOpenErrorAlert(true);\n            })\n    }\n\n\n    async function pasteClipboardContentInInput() {\n        const clipboardContent = await navigator.clipboard.readText();\n        setArticleUrl(clipboardContent);\n    }\n\n    const handleCloseAlert = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n\n        setOpenSuccessAlert(false);\n        setOpenErrorAlert(false);\n    };\n\n\n    return (\n        <>\n            <Paper\n                component=\"form\"\n                sx={{\n                    p: '2px 4px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    marginTop: \"80px\"\n                }}\n                onSubmit={formSubmitHandler}\n            >\n                <LinkIcon sx={{ p: '10px' }} aria-label=\"menu\" />\n                <InputBase\n                    sx={{ ml: 1, flex: 1 }}\n                    placeholder=\"Paste article's url here\"\n                    inputProps={{ 'aria-label': 'search google maps' }}\n                    value={articleUrl}\n                    onChange={e => setArticleUrl(e.target.value)}\n                />\n                <IconButton sx={{ p: '10px' }} aria-label=\"search\" onClick={pasteClipboardContentInInput}>\n                    <ContentPasteIcon />\n                </IconButton>\n                <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    disabled={isSubmitting}\n                    endIcon={<SendIcon />} >\n                    Post\n                </Button>\n            </Paper>\n            {isSubmitting &&\n                <ArticleCardSkeleton />\n            }\n            {Object.keys(articlePosted).length !== 0 &&\n                <ArticleCard articleInfo={articlePosted} />\n            }\n            <Snackbar open={openSuccessAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n                <Alert onClose={handleCloseAlert} severity=\"success\" sx={{ width: '100%' }}>\n                    New article posted!\n                </Alert>\n            </Snackbar>\n            <Snackbar open={openErrorAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n                <Alert onClose={handleCloseAlert} severity=\"error\" sx={{ width: '100%' }}>\n                    {error}\n                </Alert>\n            </Snackbar>\n        </>\n    );\n}\n\nexport default NewArticlePostUrlInput;","import React, { useState, useEffect, useCallback, useRef, useContext } from 'react';\n\nimport Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport { styled } from '@mui/material/styles';\n\nimport ArticleCard from './ArticleCard';\nimport { UserContext } from '../context/UserContext';\n\nconst Item = styled(Paper)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n  ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: 'center',\n  color: theme.palette.text.secondary,\n}));\n\nlet fetchCalled = 0;\nlet useEffectCalled = 0;\nlet observerTrigger = 0;\nlet renderNb = 0;\n\nfunction MainGrid(props) {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [articlesArray, setArticlesArray] = useState([]);\n  const [lastPostTime, setLastPostTime] = useState(\"\");\n  const [allArticlesLoaded, setAllArticlesLoaded] = useState(false);\n  const [prevY, setPrevY] = useState(0);\n  const [userContext, setUserContext] = useContext(UserContext);\n  const [lastArticleCard, setLastArticleCard] = useState(null)\n  const [shouldFetch, setShouldFetch] = useState(false)\n  const ref = useRef();\n\n  const observer = useRef(\n    new IntersectionObserver((entries) => {\n      const first = entries[0];\n      if (first.isIntersecting) {\n        observerTrigger++;\n        console.log(`observer triggered ${observerTrigger}`);\n        // console.log(articlesArray);\n        // const newLastPostTime = articlesArray[articlesArray.length - 1].postTime;\n        // setLastPostTime(newLastPostTime);\n        // fetchArticlesArray();\n        setShouldFetch(true)\n      }\n    })\n  );\n\n  function fetchArticlesArray(lastPostTimeInput) {\n    fetchCalled++\n    console.log(`fetchArticlesArray called ${fetchCalled}`);\n    console.log(lastPostTime);\n\n    setLoading(true);\n\n    // const fetchArticlesArrayUrl = process.env.REACT_APP_SERVER_URL + `${props.pageDisplayed}`\n    // const fetchArticlesArrayUrl = props.serverUrl + `${props.pageDisplayed}`\n\n    let fetchArticlesArrayUrl;\n    if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n      fetchArticlesArrayUrl = process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN + `${props.pageDisplayed}`;\n    } else {\n      fetchArticlesArrayUrl = process.env.REACT_APP_SERVER_URL_LOCAL + `${props.pageDisplayed}`;\n    }\n\n    fetch(\n      fetchArticlesArrayUrl,\n      {\n        method: 'POST',\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${userContext.token}`\n\n        },\n        body: JSON.stringify({ lastPostTime: lastPostTimeInput })\n      }\n    )\n      .then(async response => {\n        if (response.ok) {\n          const data = await response.json();\n          if (data.length !== 0) {\n            setIsLoaded(true);\n            setArticlesArray(oldValues => {\n              return [...oldValues, ...data];\n            })\n            const newLastPostTime = data[data.length - 1].postTime;\n            console.log('newLastPostTime:', newLastPostTime);\n            setLastPostTime(newLastPostTime);\n          } else {\n            console.log('No more articles');\n            setAllArticlesLoaded(true);\n          }\n          setLoading(false);\n        }\n      })\n      .catch(err => {\n        setIsLoaded(true);\n        setError(err);\n      })\n  }\n\n  function handleNewArticlePosted(newArticlesList) {\n    setArticlesArray(newArticlesList)\n  }\n\n  function renderArticlePost(articleInfo) {\n    return (\n      <Item>\n        <ArticleCard\n          articleInfo={articleInfo}\n          key={articleInfo.id}\n        />\n      </Item>\n    );\n  }\n\n  useEffect(() => {\n    useEffectCalled++\n    console.log(`useEffect called ${useEffectCalled}`);\n    console.log(`lastPostTime: ${lastPostTime}`);\n    fetchArticlesArray(lastPostTime);\n    console.log(`lastPostTime: ${lastPostTime}`);\n  },\n    []\n  )\n\n  // useEffect(() => {\n  //   setArticlesArray([])\n  //   fetchArticlesArray();\n  //   console.log(\"Second useEffect ran\");\n  // },\n  //   [props.pageDisplayed]\n  // )\n\n\n  // useEffect(() => {\n  //   const currentElement = ref.current;\n  //   const currentObserver = observer.current;\n\n  //   if (currentElement) {\n  //     currentObserver.observe(currentElement);\n  //   }\n\n  //   return () => {\n  //     if (currentElement) {\n  //       currentObserver.unobserve(currentElement);\n  //     }\n  //   };\n  // }, [ref]);\n\n  useEffect(() => {\n    console.log(lastPostTime);\n    const currentElement = lastArticleCard;\n    const currentObserver = observer.current;\n\n    if (currentElement) {\n      currentObserver.observe(currentElement);\n    }\n\n    return () => {\n      if (currentElement) {\n        currentObserver.unobserve(currentElement);\n      }\n    };\n  }, [lastArticleCard, lastPostTime]);\n\n  useEffect(() => {\n    console.log(`useEffect shouldFetch: ${lastPostTime}`);\n    if (shouldFetch) {\n      fetchArticlesArray(lastPostTime);\n    }\n  },\n    [shouldFetch, lastPostTime]\n  )\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      {console.log(lastPostTime)}\n      <Grid\n        container\n        spacing={2}\n      >\n        {articlesArray.map((article, i) => {\n          return i === articlesArray.length - 1 ? (\n            <Grid\n              item\n              xs={12} sm={6} md={4} lg={3} xl={2}\n              key={article._id + `${i}`}\n              ref={setLastArticleCard}\n            >\n              {renderArticlePost(article)}\n            </Grid>\n\n          ) : (\n            <Grid\n              item\n              xs={12} sm={6} md={4} lg={3} xl={2}\n              key={article._id + `${i}`}\n            >\n              {renderArticlePost(article)}\n            </Grid>\n\n          )\n        })}\n      </Grid>\n      <div\n      >\n        {loading &&\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'center',\n              marginTop: 2\n            }}\n          >\n            <CircularProgress />\n          </Box>\n        }\n      </div>\n    </Box>\n  );\n}\n\nexport default MainGrid;\n\n// https://stackoverflow.com/questions/58341787/intersectionobserver-with-react-hooks","import React, { useState, useEffect } from \"react\";\n\nimport NavAppBar from \"./NavAppBar\";\nimport NewArticlePostUrlInput from \"./NewArticlePostUrlInput\";\nimport MainGrid from \"./MainGrid\";\n\nimport os from 'os';\n\nfunction App() {\n    // console.log(\"App rendered\");\n    const [pageDisplayed, setPageDisplayed] = useState(\"allarticles\");\n    const [serverUrl, setServerUrl] = useState(\"\");\n    // console.log(pageDisplayed);\n\n\n    // function getServerUrl() {\n    //     if (process.env.REACT_APP_RUNNING_IN_DIGITAL_OCEAN === 'true') {\n    //         setServerUrl(process.env.REACT_APP_SERVER_URL_DIGITAL_OCEAN);\n    //     } else {\n    //         setServerUrl(process.env.REACT_APP_SERVER_URL_LOCAL);\n    //     }\n    //     console.log(\"Here is the server url\", serverUrl);\n    // }\n\n    function allArticlesHandler() {\n        setPageDisplayed(\"allarticles\");\n    }\n\n    function myArticlesHandler() {\n        setPageDisplayed(\"myarticles\");\n    }\n\n    function myVotesHandler() {\n        setPageDisplayed(\"myvotes\");\n    }\n\n    // useEffect(() => {\n    //     console.log(\"useEffect in App\");\n    //     getServerUrl();\n    // },\n    //     [getServerUrl, serverUrl]\n    // )\n\n    return (\n        <>\n            <NavAppBar\n                allArticlesHandler={allArticlesHandler}\n                myArticlesHandler={myArticlesHandler}\n                myVotesHandler={myVotesHandler}\n                // serverUrl={serverUrl}\n            />\n            <NewArticlePostUrlInput />\n            <MainGrid\n                pageDisplayed={pageDisplayed}\n                // serverUrl={serverUrl}\n            />\n        </>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport { UserProvider } from './context/UserContext';\n\n\nReactDOM.render(\n  <UserProvider>\n    <App />\n  </UserProvider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}